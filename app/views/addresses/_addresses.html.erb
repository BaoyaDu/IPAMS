<!-- Index display:
  See http://stackoverflow.com/questions/4566620/getting-the-current-item-number-or-index-when-using-will-paginate-in-rails-app
  See also https://hackhands.com/pagination-rails-will_paginate-gem/
  Record index: @addresses.total_entries, @addresses.offset -->
<% count = addresses.offset %>
<table class="table table-striped table-condensed">
<thead>
<tr>
  <th>No.</th>
  <th>IP Address</th>
  <th>MAC Address</th>
  <th>Usage</th>
  <th>User Name</th>
  <th>Dept Name</th>
  <th>Title</th>
  <th>Office Phone</th>
  <th>Cell Phone</th>
  <th>Building</th>
  <th>Storey</th>
  <th>Room</th>
  <th>Start Date</th>
  <th>End Date</th>
  <th>Assigner</th>
  <th></th>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody id="main-table-body">
<% addresses.each do |address| %>
<% find_user(address.user_id) %>
<% count += 1 %>

<tr id="row-<%= count %>">
  <td id="no"><%= count %></td>
  <td id="ip-address">
    <% clr = "green" %>
    <% clr = "red" if @user.name == "NOBODY" %>
    <font color="<%= clr %>"><%= address.ip %></font>
  </td>
  <td id="mac-address">
    <a href="#" data-xeditable="true" data-pk="<%= address.id %>" data-model="address" data-name="mac_address" data-url="<%= address_path(address) %>" data-title="MAC Address"><%= address.mac_address %></a>
  </td>
  <td id="usage">
    <a href="#" data-xeditable="true" data-pk="<%= address.id %>" data-model="address" data-name="usage" data-url="<%= address_path(address) %>" data-title="Usage"><%= address.usage %></a>
  </td>
  <td id="user-name">
    <a href="#" data-xeditable="true" data-pk="<%= address.id %>" data-model="address" data-name="user_id" data-url="<%= address_path(address) %>" data-title="User Name"><%= @user.name %></a>
  </td>
  <td id="department-name">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="department_id" data-url="<%= user_path(@user) %>" data-title="Dept Name"><%= @department.dept_name %></a>
  </td>
  <td id="user-title">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="title" data-url="<%= user_path(@user) %>" data-title="Title"><%= @user.title %></a>
  </td>
  <td id="office-phone">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="office_phone" data-url="<%= user_path(@user) %>" data-title="Office Phone"><%= @user.office_phone %></a>
  </td>
  <td id="cell-phone">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="cell_phone" data-url="<%= user_path(@user) %>" data-title="Cell Phone"><%= @user.cell_phone %></a>
  </td>
  <td id="building">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="building" data-url="<%= user_path(@user) %>" data-title="Building"><%= @user.building %></a>
  </td>
  <td id="storey">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="storey" data-url="<%= user_path(@user) %>" data-title="Storey"><%= @user.storey %></a>
  </td>
  <td id="room">
    <a href="#" data-xeditable="true" data-pk="<%= @user.id %>" data-model="user" data-name="room" data-url="<%= user_path(@user) %>" data-title="Room Number"><%= @user.room %></a>
  </td>
  <td id="start-date">
    <a href="#" data-xeditable="true" data-pk="<%= address.id %>" data-model="address" data-name="start_date" data-url="<%= address_path(address) %>" data-title="Start Date"><%= address.start_date %></a>
  </td>
  <td id="end-date">
    <a href="#" data-xeditable="true" data-pk="<%= address.id %>" data-model="address" data-name="end_date" data-url="<%= address_path(address) %>" data-title="End Date"><%= address.end_date %></a>
  </td>
  <td id="assigner">
    <a href="#" data-xeditable="true" data-pk="<%= address.id %>" data-model="address" data-name="assigner" data-url="<%= address_path(address) %>" data-title="Assigner"><%= address.assigner %></a>
  </td>
  <td><%= link_to 'Show', address, class: 'btn btn-primary btn-xs' %></td>
</td>
</tr>
<% end %>
</tbody>
</table>
